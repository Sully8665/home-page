<div class="github-stats-container">
  <app-section-title 
    titleEn="GitHub Statistics" 
    titleFa="ÿ¢ŸÖÿßÿ± GitHub">
  </app-section-title>
  
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p class="loading-text">Loading GitHub statistics...</p>
  </div>
  
  <!-- Stats Cards -->
  <div class="row g-3 mb-4" *ngIf="!loading">
    <div class="col-md-3 col-6">
      <div class="stat-card">
        <div class="stat-icon">‚≠ê</div>
        <div class="stat-number">{{ stats?.totalStars || 0 }}</div>
        <div class="stat-label">Stars</div>
      </div>
    </div>
    <div class="col-md-3 col-6">
      <div class="stat-card">
        <div class="stat-icon">üç¥</div>
        <div class="stat-number">{{ stats?.totalForks || 0 }}</div>
        <div class="stat-label">Forks</div>
      </div>
    </div>
    <div class="col-md-3 col-6">
      <div class="stat-card">
        <div class="stat-icon">üìÅ</div>
        <div class="stat-number">{{ stats?.totalRepos || 0 }}</div>
        <div class="stat-label">Repositories</div>
      </div>
    </div>
    <div class="col-md-3 col-6">
      <div class="stat-card">
        <div class="stat-icon">üíª</div>
        <div class="stat-number">{{ stats?.totalCommits || 0 }}</div>
        <div class="stat-label">Commits</div>
      </div>
    </div>
  </div>

  <!-- Languages -->
  <div class="languages-section" *ngIf="stats?.languages && !loading">
    <h4 class="mb-3">Programming Languages</h4>
    <div class="languages-grid">
      <div class="language-item" *ngFor="let lang of getTopLanguages()">
        <div class="language-name">{{ lang.name }}</div>
        <div class="language-bar">
          <div class="language-fill" [style.width.%]="lang.percentage"></div>
        </div>
        <div class="language-percentage">{{ lang.percentage }}%</div>
      </div>
    </div>
  </div>

  <!-- Recent Repositories -->
  <div class="recent-repos" *ngIf="stats?.recentRepos && !loading">
    <h4 class="mb-3">Recent Repositories</h4>
    <div class="repos-grid">
      <div class="repo-card" *ngFor="let repo of stats.recentRepos.slice(0, 6)">
        <div class="repo-header">
          <h5 class="repo-name">
            <a [href]="repo.html_url" target="_blank" rel="noopener">{{ repo.name }}</a>
          </h5>
          <div class="repo-stats">
            <span class="repo-stat">‚≠ê {{ repo.stargazers_count }}</span>
            <span class="repo-stat">üç¥ {{ repo.forks_count }}</span>
          </div>
        </div>
        <p class="repo-description">{{ repo.description || 'No description available' }}</p>
        <div class="repo-language" *ngIf="repo.language">
          <span class="language-dot" [style.background-color]="getLanguageColor(repo.language)"></span>
          {{ repo.language }}
        </div>
      </div>
    </div>
  </div>
</div>
